{"version":3,"sources":["items.json","util/formatCurrency.js","util/addGlobalEventListener.js","shoppingCart.js","store.js","script.js"],"names":["module","exports","formatter","Intl","NumberFormat","undefined","style","currency","formatCurrency","amount","format","addGlobalEventListener","type","selector","callback","document","addEventListener","e","target","matches","cartButton","querySelector","cartItemsWrapper","shoppingCart","IMAGE_URL","cartItemTemplate","cartItemContainer","cartQuantity","cartTotal","cart","SESSION_STORAGE_KEY","setupShoppingCart","id","parseInt","closest","dataset","itemId","removeFromCart","loadCart","renderCart","classList","toggle","saveCart","sessionStorage","setItem","JSON","stringify","getItem","parse","addToCart","existingItem","find","entry","quantity","push","filter","length","hideCart","showCart","renderCartItems","add","remove","totalCartQuantity","reduce","sum","item","items","i","innerText","totalCents","priceCents","innerHTML","forEach","cartItem","content","cloneNode","container","name","image","src","imageColor","price","appendChild","storeItemTemplate","storeItemContainer","setupStore","renderStoreItem","storeItem","category"],"mappings":"AAAAA,MAAM,CAACC,OAAP,GAAiB,CACf;AACE,QAAM,CADR;AAEE,AKHJ,ULGY,KAFV;AAGE,cAAY,eAHd;AAIE,AKJJ,gBLIkB,IAJhB;AAKE,gBAAc;AALhB,ACDF,CDAiB,EAQf,CCRIC,SAAS,GAAG,IAAIC,IAAI,CAACC,YAAT,CAAsBC,SAAtB,EAAiC;ADS/C,AITJ,AFAe,ADCbC,EAAAA,KAAK,CDQG,CADR,AERsBK,ADCf,UAD0C,YCApC,CAAgCC,IAAhC,EAAsCC,QAAtC,EAAgDC,QAAhD,EAA0D;AFUrE,AKPJ,AFHA,ADCEC,ADCAR,ECDAQ,ADCAR,QDQU,AETF,ADCA,CCDCS,CDCC,MDMV,SEPA,CAA0BJ,IAA1B,EAAgC,UAAAK,CAAC,EAAI;AFUnC,AKPJ,ADHA,AFCI,ADF+C,CAAjC,CAAlB,MCEQA,CAAC,CAACC,IFSM,EETR,CAASC,OAAT,CAAiBN,IFMvB,IENM,CAAJ,EAAgC;AFUhC,AGXJ,ADEMC,MAAAA,QAAQ,CAACG,CFSG,AETJ,CAAR,GFKJ;AAKE,AIXJ,AFEK,ADCU,SAAST,ODQN,OCRH,CAAwBC,MAAxB,EAAgC;ADG7C,AGNF,ADGG,ADCD,CDNe,EAef,AEdA,MDKOP,SAAS,CAACQ,MAAV,CAAiBD,MAAjB,CAAP;ADUE,AIbJ,AFGC,ADCA,QDSS,CADR;AAEE,UAAQ,MAFV;AAGE,cAAY,eAHd;AAIE,AGfJ,IAAMW,UAAU,EHeE,CGfCL,GHWjB,KGXyB,CAACM,aAAT,CAAuB,oBAAvB,CAAnB;AHgBI,AGfJ,ACAA,IDAMC,ACAA6D,YJeY,IGfI,CCAC,EDAEpE,CCACA,ODAO,CAACM,ACAA,CAACA,YDAV,CAAuB,ACAtB,CAAuB,sBAAvB,CAA1B,EDAyB,CAAzB;AHUE,AGTF,ACAA,CJNiB,EAsBf,CGhBEE,ACAE6D,YDAU,GAAG,EAAnB,CCAwB,GAAGrE,QAAQ,CAACM,aAAT,CAAuB,uBAAvB,CAA3B;AJiBI,AGhBJ,ACAA,IDAMG,ACAAA,IJgBI,CADR,IGfa,ACAA,GDAG,ACAA,gCDAlB,ACAA;AJiBI,AGhBJ,IAAMC,MHgBM,QAFV,EGdoB,GAAGV,QAAQ,CAACM,aAAT,CAAuB,qBAAvB,CAAzB;AHiBI,AGhBJ,ACCO,IDDDK,KCCU2D,KJeA,KIfT,EDDgB,CCCM,EDDHtE,OHaxB,CGbgC,CAACM,aAAT,CAAuB,mBAAvB,CAA1B;AHiBI,AGhBJ,ACCE,IDDIM,ECCAyD,UJeY,AGhBA,GAAGrE,CHYnB,IIXsB,GDDK,CAACM,ACCF,IAA1B,EAAgC,ODDb,CAAuB,sBAAvB,CAArB;AHiBI,AGhBJ,ACEE,IDFIO,SAAS,GHgBG,AGhBAb,QAAQ,CAACM,aAAT,CAAuB,ACEhB,OAAvB,EAA+B,UDFf,CAAlB,gBCEE,EAA4D,UAAAJ,CAAC,EAAG;AJShE,AGVF,ACEM,CJdW,EA6Bf,CGjBIY,IAAI,ACEEG,EAAE,CDFDjB,ECEIE,CAAC,CAACC,IDFE,CAACG,CCEL,CAASa,OAAT,CAAiB,GDFrB,CAAuB,aAAvB,CAAb,CCEiB,EAAsCC,OAAtC,CAA8CC,MAAzD;AJgBF,AGjBJ,ACEI,IDFEN,IHiBI,CADR,cGhBuB,GAAC,OCEZG,QAAQ,CAACD,EAAD,CAAlB,CDFJ;AHkBI,AIfC,GAHH,OJkBU,OAFV;AAGE,AGjBW,SAASD,KHiBR,YGjBD,GAA6B,EHc1C;AAIE,AGjBF,ACEAmC,gBJegB,CIfVM,GJWN,IIXA,CAAcc,cDFS,CCEvB,MDFA,EAAgC,gCAAhC,EAAkE,UAAArE,CAAC,EAAI;AHkBrE,AGjBA,ACEH,QDFSe,EAAE,GAAGC,GHiBG,KGjBK,CAAChB,CAAC,CAACC,MAAF,CAASgB,OAAT,CAAiB,aAAjB,EAAgCC,OAAhC,CAAwCC,MAAzC,CAAnB;AHYF,AGXEC,CHlBa,EAoCf,CGlBEA,cAAc,CAACL,EAAD,CAAd;AHmBA,AGlBD,ACEH,GDLE,KHqBQ,CADR,AIfOsD,eAAT,CAAyBrB,IAAzB,EAA+B;AJiB3B,AGlBF1C,ACGA,EDHAA,ICGMgE,IJeI,IGlBE,CCGG,EDHFjD,CHgBb,AIbkB6C,ODHG,EAArB,QCGmC,CAACT,OAAlB,CAA0BC,SAA1B,CAAoC,IAApC,CAAlB;AJgBE,AGlBFpC,ACIA,EDJAA,ICIMqC,MDJI,EHkBI,CIdC,GAAGW,SAAS,CAAClE,GJW5B,UIXkB,CAAwB,mBAAxB,CAAlB;AJeE,AGjBFD,ACGAwD,EDHAxD,ACGAwD,SAAS,CDHC,ACGAzC,CDHCnB,GHiBK,GIdhB,CJUA,AIVkBoB,MAAlB,GDHA,ACGyB6B,CDHG,GCGC,CAACjC,EAA9B,CDHA,EAAqC,YAAK;AHkBxC,AGjBAV,ACIF,IDJEA,ECIIuD,IAAI,GAAGU,GJaG,IGjBE,CAAC/C,CCIG,CAACnB,ODJrB,CAA2BoB,KCIhB,CDJX,ACImC,CDJD,WAAlC,CCIW,CAAb;AJQA,AGXC,ACIDoC,CJ7Be,CI6BfA,CJcA,AGpBA,GCMI,CAACT,SAAL,GAAiBH,IAAI,CAACY,IAAtB;AJeE,AGjBH,ACIC,MAAMW,EJaE,CADR,KIZc,GAAGD,SAAS,CAAClE,aAAV,CAAwB,iBAAxB,CAAjB;AJcE,AIbFmE,EAAAA,QJaU,AIbF,CAACpB,SAAT,EJWA,CIXqBH,IAAI,CAACuB,QAA1B;AJcE,AGhBJ,ACIE,MAAMV,GDJCpC,ECII,GJYG,AIZA6C,GDJhB,GAAoB,GCIK,CAAClE,CJSxB,YITc,CAAwB,cAAxB,CAAd;AJaE,AGhBFsB,ACIAmC,EDJAnC,ACIAmC,KAAK,CAACC,GAAN,KJYgB,AGhBF,CAACnC,GHYf,IGZA,ACIepB,CDJQM,QCIvB,WDJA,EAA2Ce,CCIfoB,GDJmB,CAACnB,ACIhB,CAACkC,QDJU,CAAezD,CCI1D,WDJ2C,CAA3C,ECI+C0C,IAAI,CAACe,UAApD;AJaE,AGhBH,ACKC,MAAMC,KAAK,GAAGM,EJWE,OIXO,CAAClE,aAAV,CAAwB,cAAxB,CAAd;AJMA,AILA4D,CJtCe,CIsCfA,CJYA,IIZK,CAACb,SAAN,GAAkB,6BAAeH,IAAI,CAACK,UAAL,GAAiB,GAAhC,CAAlB;AJaE,AGjBJ,ACMEc,EAAAA,MJWQ,CADR,AGhBO9C,QAAT,GAAoB,ACMA,CAAC4C,WAAnB,CAA+BK,SAA/B;AJYE,AGjBF,ACMD,MDNO1D,IHiBI,AGjBA,GAAGc,QHeb,MGf2B,CAACI,OAAf,CAAuBjB,mBAAvB,CAAb;AHkBE,AGjBF,SAAOe,IAAI,CHiBG,AGjBFG,KAAL,CAAWnB,IAAX,CHcP,IGd2B,EAA3B;AHkBE,AGjBH,gBHiBiB,IAJhB;AAKE,gBAAc;AALhB,AGXK,CHvCU,CAAjB,OGuCgBoB,SAAT,CAAmBjB,EAAnB,EAAuB;AAC5B,MAAMkB,YAAY,GAAG3B,YAAY,CAAC4B,IAAb,CAAkB,UAAAC,KAAK;AAAA,WAAIA,KAAK,CAACpB,EAAN,KAAaA,EAAjB;AAAA,GAAvB,CAArB;;AACA,MAAIkB,YAAJ,EAAkB;AAChBA,IAAAA,YAAY,CAACG,QAAb;AACD,GAFD,MAEO;AACL9B,IAAAA,YAAY,CAAC+B,IAAb,CAAkB;AAAEtB,MAAAA,EAAE,EAAEA,EAAN;AAAUqB,MAAAA,QAAQ,EAAE;AAApB,KAAlB;AACD;;AACDd,EAAAA,UAAU;AACVG,EAAAA,QAAQ;AACT;;AAED,SAASL,cAAT,CAAwBL,EAAxB,EAA4B;AAC1B,MAAMkB,YAAY,GAAG3B,YAAY,CAAC4B,IAAb,CAAkB,UAAAC,KAAK;AAAA,WAAIA,KAAK,CAACpB,EAAN,KAAaA,EAAjB;AAAA,GAAvB,CAArB;AACA,MAAIkB,YAAY,IAAI,IAApB,EAA0B;AAC1B3B,EAAAA,YAAY,GAAGA,YAAY,CAACgC,MAAb,CAAoB,UAAAH,KAAK;AAAA,WAAIA,KAAK,CAACpB,EAAN,KAAaA,EAAjB;AAAA,GAAzB,CAAf;AACAO,EAAAA,UAAU;AACVG,EAAAA,QAAQ;AACT;;AAED,SAASH,UAAT,GAAsB;AACpB,MAAIhB,YAAY,CAACiC,MAAb,KAAwB,CAA5B,EAA+B;AAC7BC,IAAAA,QAAQ;AACT,GAFD,MAEO;AACLC,IAAAA,QAAQ;AACRC,IAAAA,eAAe;AAChB;AACF;;AAED,SAASF,QAAT,GAAoB;AAClB5B,EAAAA,IAAI,CAACW,SAAL,CAAeoB,GAAf,CAAmB,WAAnB;AACAtC,EAAAA,gBAAgB,CAACkB,SAAjB,CAA2BoB,GAA3B,CAA+B,WAA/B;AACD;;AAED,SAASF,QAAT,GAAoB;AAClB7B,EAAAA,IAAI,CAACW,SAAL,CAAeqB,MAAf,CAAsB,WAAtB;AACD;;AAGD,SAASF,eAAT,GAA2B;AACzB,MAAMG,iBAAiB,GAAGvC,YAAY,CAACwC,MAAb,CAAoB,UAACC,GAAD,EAAMZ,KAAN,EAAgB;AAC5D,QAAMa,IAAI,GAAGC,eAAMf,IAAN,CAAW,UAAAgB,CAAC;AAAA,aAAIf,KAAK,CAACpB,EAAN,KAAamC,CAAC,CAACnC,EAAnB;AAAA,KAAZ,CAAb;;AACA,WAAOgC,GAAG,GAAGZ,KAAK,CAACC,QAAnB;AACD,GAHyB,EAGvB,CAHuB,CAA1B;AAKA1B,EAAAA,YAAY,CAACyC,SAAb,GAAyBN,iBAAzB;AAEA,MAAMO,UAAU,GAAG9C,YAAY,CAACwC,MAAb,CAAoB,UAACC,GAAD,EAAMZ,KAAN,EAAgB;AACrD,QAAMa,IAAI,GAAGC,eAAMf,IAAN,CAAW,UAAAgB,CAAC;AAAA,aAAIf,KAAK,CAACpB,EAAN,KAAamC,CAAC,CAACnC,EAAnB;AAAA,KAAZ,CAAb;;AACA,WAAOgC,GAAG,GAAGC,IAAI,CAACK,UAAL,GAAkBlB,KAAK,CAACC,QAArC;AACD,GAHkB,EAGjB,CAHiB,CAAnB;AAKAzB,EAAAA,SAAS,CAACwC,SAAV,GAAsB,6BAAeC,UAAU,GAAC,GAA1B,CAAtB;AAEA3C,EAAAA,iBAAiB,CAAC6C,SAAlB,GAA8B,EAA9B;AAEAhD,EAAAA,YAAY,CAACiD,OAAb,CAAqB,UAAApB,KAAK,EAAI;AAC5B,QAAMa,IAAI,GAAGC,eAAMf,IAAN,CAAW,UAAAgB,CAAC;AAAA,aAAIf,KAAK,CAACpB,EAAN,KAAamC,CAAC,CAACnC,EAAnB;AAAA,KAAZ,CAAb;;AACA,QAAMyC,QAAQ,GAAGhD,gBAAgB,CAACiD,OAAjB,CAAyBC,SAAzB,CAAmC,IAAnC,CAAjB;AAEA,QAAMC,SAAS,GAAGH,QAAQ,CAACpD,aAAT,CAAuB,aAAvB,CAAlB;AACAuD,IAAAA,SAAS,CAACzC,OAAV,CAAkBC,MAAlB,GAA2B6B,IAAI,CAACjC,EAAhC;AAEA,QAAM6C,IAAI,GAAGJ,QAAQ,CAACpD,aAAT,CAAuB,aAAvB,CAAb;AACAwD,IAAAA,IAAI,CAACT,SAAL,GAAiBH,IAAI,CAACY,IAAtB;AAEA,QAAMC,KAAK,GAAGL,QAAQ,CAACpD,aAAT,CAAuB,mBAAvB,CAAd;AACAyD,IAAAA,KAAK,CAACC,GAAN,aAAevD,SAAf,cAA4ByC,IAAI,CAACe,UAAjC,cAA+Cf,IAAI,CAACe,UAApD;;AAEA,QAAG5B,KAAK,CAACC,QAAN,GAAiB,CAApB,EAAsB;AACpB,UAAMA,QAAQ,GAAGoB,QAAQ,CAACpD,aAAT,CAAuB,gBAAvB,CAAjB;AACAgC,MAAAA,QAAQ,CAACe,SAAT,aAAwBhB,KAAK,CAACC,QAA9B;AACD;;AACD,QAAM4B,KAAK,GAAGR,QAAQ,CAACpD,aAAT,CAAuB,cAAvB,CAAd;AACA4D,IAAAA,KAAK,CAACb,SAAN,GAAkB,6BAAeH,IAAI,CAACK,UAAL,GAAkBlB,KAAK,CAACC,QAAxB,GAAkC,GAAjD,CAAlB;AAEA3B,IAAAA,iBAAiB,CAACwD,WAAlB,CAA8BT,QAA9B;AACD,GArBD;AAsBD","file":"script.75da7f30.js","sourceRoot":"..","sourcesContent":["module.exports = [\n  {\n    \"id\": 1,\n    \"name\": \"Red\",\n    \"category\": \"Primary Color\",\n    \"priceCents\": 1600,\n    \"imageColor\": \"F00\"\n  },\n  {\n    \"id\": 2,\n    \"name\": \"Yellow\",\n    \"category\": \"Primary Color\",\n    \"priceCents\": 2100,\n    \"imageColor\": \"FF0\"\n  },\n  {\n    \"id\": 3,\n    \"name\": \"Blue\",\n    \"category\": \"Primary Color\",\n    \"priceCents\": 1200,\n    \"imageColor\": \"00F\"\n  },\n  {\n    \"id\": 4,\n    \"name\": \"Orange\",\n    \"category\": \"Secondary Color\",\n    \"priceCents\": 1800,\n    \"imageColor\": \"F60\"\n  },\n  {\n    \"id\": 5,\n    \"name\": \"Green\",\n    \"category\": \"Secondary Color\",\n    \"priceCents\": 1600,\n    \"imageColor\": \"0F0\"\n  },\n  {\n    \"id\": 6,\n    \"name\": \"Purple\",\n    \"category\": \"Secondary Color\",\n    \"priceCents\": 2100,\n    \"imageColor\": \"60F\"\n  },\n  {\n    \"id\": 7,\n    \"name\": \"Light Gray\",\n    \"category\": \"Grayscale\",\n    \"priceCents\": 1200,\n    \"imageColor\": \"AAA\"\n  },\n  {\n    \"id\": 8,\n    \"name\": \"Dark Gray\",\n    \"category\": \"Grayscale\",\n    \"priceCents\": 1600,\n    \"imageColor\": \"333\"\n  }\n];","const formatter = new Intl.NumberFormat(undefined, {\n  style: \"currency\",\n  currency: \"USD\"\n})\n\nexport default function formatCurrency(amount) {\n  return formatter.format(amount)\n}","export default function addGlobalEventListener(type, selector, callback) {\n  document.addEventListener(type, e => {\n    if (e.target.matches(selector)) {\n      callback(e)\n    }\n  })\n}","import items from \"./items.json\"\nimport formatCurrency from \"./util/formatCurrency.js\"\nimport addGlobalEventListener from \"./util/addGlobalEventListener.js\"\n\nconst cartButton = document.querySelector('[data-cart-button]')\nconst cartItemsWrapper = document.querySelector('[data-cart-items-wrapper')\nlet shoppingCart = []\nconst IMAGE_URL = 'https://dummyimage.com/210x310'\nconst cartItemTemplate = document.querySelector('#cart-item-template')\nconst cartItemContainer = document.querySelector('[data-cart-items]')\nconst cartQuantity = document.querySelector('[data-cart-quantity]')\nconst cartTotal = document.querySelector('[data-cart-total]')\nconst cart = document.querySelector('[data-cart]')\nconst SESSION_STORAGE_KEY=\"SHOPPING_CART-cart\"\n\nexport default function setupShoppingCart() {\n  addGlobalEventListener('click', \"[data-remove-from-cart-button]\", e => {\n    const id = parseInt(e.target.closest('[data-item]').dataset.itemId)\n    removeFromCart(id)\n  })\n  shoppingCart=loadCart()\n  renderCart()\n\n  cartButton.addEventListener('click', ()=> {\n    cartItemsWrapper.classList.toggle('invisible')\n  })\n\n}\n\n\nfunction saveCart() {\n  sessionStorage.setItem(SESSION_STORAGE_KEY,JSON.stringify(shoppingCart))\n}\n\nfunction loadCart() {\n  const cart = sessionStorage.getItem(SESSION_STORAGE_KEY)\n  return JSON.parse(cart) || []\n}\n\nexport function addToCart(id) {\n  const existingItem = shoppingCart.find(entry => entry.id === id)\n  if (existingItem) {\n    existingItem.quantity++\n  } else {\n    shoppingCart.push({ id: id, quantity: 1 })\n  }\n  renderCart()\n  saveCart()\n}\n\nfunction removeFromCart(id) {\n  const existingItem = shoppingCart.find(entry => entry.id === id)\n  if (existingItem == null) return\n  shoppingCart = shoppingCart.filter(entry => entry.id !== id)\n  renderCart()\n  saveCart()\n}\n\nfunction renderCart() {\n  if (shoppingCart.length === 0) {\n    hideCart()\n  } else {\n    showCart()\n    renderCartItems()\n  }\n}\n\nfunction hideCart() {\n  cart.classList.add('invisible')\n  cartItemsWrapper.classList.add('invisible')\n}\n\nfunction showCart() {\n  cart.classList.remove('invisible')\n}\n\n\nfunction renderCartItems() {\n  const totalCartQuantity = shoppingCart.reduce((sum, entry) => {\n    const item = items.find(i => entry.id === i.id)\n    return sum + entry.quantity\n  }, 0)\n  \n  cartQuantity.innerText = totalCartQuantity\n  \n  const totalCents = shoppingCart.reduce((sum, entry) => {\n    const item = items.find(i => entry.id === i.id)\n    return sum + item.priceCents * entry.quantity\n  },0)\n  \n  cartTotal.innerText = formatCurrency(totalCents/100)\n  \n  cartItemContainer.innerHTML = ''\n  \n  shoppingCart.forEach(entry => {\n    const item = items.find(i => entry.id === i.id)\n    const cartItem = cartItemTemplate.content.cloneNode(true)\n\n    const container = cartItem.querySelector(\"[data-item]\")\n    container.dataset.itemId = item.id\n    \n    const name = cartItem.querySelector(\"[data-name]\")\n    name.innerText = item.name\n\n    const image = cartItem.querySelector(\"[data-cart-image]\")\n    image.src = `${IMAGE_URL}/${item.imageColor}/${item.imageColor}`\n\n    if(entry.quantity > 1){\n      const quantity = cartItem.querySelector(\"[data-quantity\")\n      quantity.innerText = `${entry.quantity}`\n    }\n    const price = cartItem.querySelector(\"[data-price]\")\n    price.innerText = formatCurrency(item.priceCents * entry.quantity/ 100)\n    \n    cartItemContainer.appendChild(cartItem)\n  })\n}\n","import items from \"./items.json\"\nimport { addToCart } from \"./shoppingCart\"\nimport formatCurrency from \"./util/formatCurrency.js\"\nimport addGlobalEventListener from \"./util/addGlobalEventListener.js\"\n\nconst storeItemTemplate = document.querySelector('#store-item-template')\nconst storeItemContainer = document.querySelector('#data-store-container')\nconst IMAGE_URL = \"https://dummyimage.com/420x260\"\n\n\nexport function setupStore() {\n  if (storeItemContainer == null) return\n\n  addGlobalEventListener('click','[data-add-to-cart-button]', e =>{\n      const id = e.target.closest('[data-store-item]').dataset.itemId\n    addToCart(parseInt(id))\n    }\n  )\n  items.forEach(renderStoreItem)\n}\n\nfunction renderStoreItem(item) {\n  \n  const storeItem = storeItemTemplate.content.cloneNode(true)\n\n  const container = storeItem.querySelector(\"[data-store-item]\")\n  container.dataset.itemId=item.id\n\n  const name = storeItem.querySelector(\"[data-name]\")\n  name.innerText = item.name\n\n  const category = storeItem.querySelector(\"[data-category]\")\n  category.innerText = item.category\n\n  const image = storeItem.querySelector(\"[data-image]\")\n  image.src = `${IMAGE_URL}/${item.imageColor}/${item.imageColor}`\n  \n  const price = storeItem.querySelector(\"[data-price]\")\n  price.innerText = formatCurrency(item.priceCents/ 100)\n\n  storeItemContainer.appendChild(storeItem)\n}\n\n","import setupShoppingCart from \"./shoppingCart\";\nimport { setupStore } from \"./store\";\n\nsetupStore()\nsetupShoppingCart()"]}